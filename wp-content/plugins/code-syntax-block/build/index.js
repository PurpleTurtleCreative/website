!function(e){var t={};function l(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=t,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(o,n,function(t){return e[t]}.bind(null,n));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=8)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},function(e,t){function l(){return e.exports=l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,l.apply(this,arguments)}e.exports=l,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.apiFetch},function(e,t){e.exports=window.wp.hooks},function(e,t){e.exports=window.wp.blocks},function(e,t,l){"use strict";l.r(t);var o=l(6),n=l(4),a=l.n(n),c=l(0),r=l(5),s=l.n(r),u=l(1),i=l(7),b=l(3),p=l(2),m=e=>{let{attributes:t,className:l,setAttributes:o}=e;Object(c.useEffect)(()=>{!t.language&&mkaz_code_syntax_default_lang&&o({language:mkaz_code_syntax_default_lang})},[t.language]),Object(c.useEffect)(()=>{s()({path:"/mkaz/code-syntax/v1/get/color-scheme/"}).then(e=>{o({colorScheme:e})}).catch(e=>{console.log("Error fetching color scheme option: ",e)})},[t.colorScheme]);let n="";n=t.language?"language-"+t.language:"",n=t.lineNumbers?n+" line-numbers":n;const r={value:t.content||"",onChange:e=>o({content:e}),placeholder:Object(p.__)("Write codeâ€¦"),"aria-label":Object(p.__)("Code")},m=Object(i.hasBlockSupport)("core/code","lightBlockWrapper",!1);return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(u.InspectorControls,{key:"controls"},Object(c.createElement)(b.PanelBody,{title:Object(p.__)("Settings")},Object(c.createElement)(b.SelectControl,{label:Object(p.__)("Language"),value:t.language,options:[{label:Object(p.__)("Select code language","code-syntax-block"),value:""}].concat(Object.keys(mkaz_code_syntax_languages).map(e=>({label:mkaz_code_syntax_languages[e],value:e}))),onChange:e=>o({language:e})}),Object(c.createElement)(b.ToggleControl,{label:Object(p.__)("Show line numbers","code-syntax-block"),checked:t.lineNumbers,onChange:e=>o({lineNumbers:e})}),Object(c.createElement)(b.TextControl,{label:Object(p.__)("Title for Code Block","code-syntax-block"),value:t.title,onChange:e=>o({title:e}),placeholder:Object(p.__)("Title or File (optional)","code-syntax-block")})),Object(c.createElement)(b.PanelBody,{title:Object(p.__)("Global Color Scheme","code-syntax-block")},Object(c.createElement)("p",null,"Color scheme applies to all code blocks across the site."),Object(c.createElement)(b.SelectControl,{label:Object(p.__)("Schemes"),value:t.colorScheme,options:[{label:Object(p.__)("Pick color scheme","code-syntax-block"),value:""}].concat([{label:"A11y Dark",value:"prism-a11y-dark"},{label:"One Dark",value:"prism-onedark"},{label:"GH Colors (Light)",value:"prism-ghcolors"},{label:"Nord",value:"prism-nord"}].map(e=>({label:e.label,value:e.value}))),onChange:e=>{let t="/mkaz/code-syntax/v1/set/color-scheme/"+e;s()({path:t}).then(()=>{o({colorScheme:e})}).catch(e=>{console.log("Error updating color scheme option: ",e)})}}))),Object(c.createElement)(c.Fragment,null,u.useBlockProps?Object(c.createElement)("pre",Object(u.useBlockProps)(),Object(c.createElement)(u.RichText,a()({},r,{preserveWhiteSpace:!0,allowedFormats:[],withoutInteractiveFormatting:!0,__unstablePastePlainText:!0}))):m?Object(c.createElement)(u.__experimentalBlock.pre,null,Object(c.createElement)(u.PlainText,a()({},r,{__experimentalVersion:2,tagName:"code"}))):Object(c.createElement)("div",{key:"editor-wrapper",className:l},Object(c.createElement)(u.PlainText,r)),Object(c.createElement)("div",{className:"wp-block mkaz-code-syntax-block__lang_label"},mkaz_code_syntax_languages[t.language])))},g=e=>{let{attributes:t}=e,l="";if(l=t.language?"language-"+t.language:"",l=t.lineNumbers?l+" line-numbers":l,u.useBlockProps){const e=u.useBlockProps.save({title:t.title});return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("pre",e,Object(c.createElement)(u.RichText.Content,{tagName:"code",value:t.content,lang:t.language,className:l})))}return Object(c.createElement)("pre",{className:"wp-block-code",title:t.title},Object(c.createElement)("code",{lang:t.language,className:l},t.content))};Object(o.addFilter)("blocks.registerBlockType","mkaz/code-syntax-block",e=>"core/code"!==e.name?e:{...e,attributes:{...e.attributes,language:{type:"string",selector:"code",source:"attribute",attribute:"lang"},lineNumbers:{type:"boolean"},title:{type:"string",source:"attribute",selector:"pre",attribute:"title"}},edit:m,save:g})}]);